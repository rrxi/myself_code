# 第一章



## 1.1 库函数排序

可以使用库函数进行排序，C++中的sort, map, set



## 1.2 位操作实现位向量

１．思想

​	位向量的实现方法是：多个位组成一个基本数据类型，基本数据类型组合成数组。

２．程序的描述

​	输入的每个进行排序的数均小于10000000, 也即需要这么多的位来表示这些数，用int的32位来表示，就需要10000000/32+1这么多个的int来组成一个int数组。

​	对于每个位的操作有三种，分别是设置为０，设置为１，和读取当前值。

３．程序代码

- i代表需要操作的第i个对象
- i>>SHIFT相当于i/32，将i定位到具体的哪个int中，即a[i>>SHIFT]
- i&MASK相当于i%32 只保留i的0至4位，即i在int中的第几位，然后把1左移这么多位，为什么是0至4位呢，因为一个int只有32位，最多只需要移动32位
- 将a[i>>SHIFT]和(1<<(i&MASK))视需要进行操作
- 同1做或运算或即为位设置
- 同1取反再做与运算即为位清除
- 同1做与，结果为0则原位为0，为1则原位为1

```c
 18 #include <stdlib.h>
 19 #include <stdio.h>
 20 
 21 #define BITSPERWORD 32
 22 #define SHIFT 5
 23 #define MASK 0x1F
 24 #define N 10000000
 25 int num[6] = {1,3,5,2,6,19};
 26 int a[1+(N-1)/BITSPERWORD];
 27 
 28 //置１
 29 void set(int i)
 30 {
 31   a[i>>SHIFT] |= (1<<(i&MASK));
 32 }
 33 
 34 //置０
 35 void clr(int i)
 36 {
 37   a[i>>SHIFT] &= ~(1<<(i&MASK));
 38 }
 39 
 40 //读取值
 41 int test(int i)
 42 {
 43   return a[i>>SHIFT] & (1<<(i&MASK));
 44 }
 45 
 46 int main()
 47 {
 48   int i;
 49   for(i=0; i<N; i++){//在使用位向量前要初始化
 50     clr(i);
 51   }
 52   for(i=0; i<6; i++)
 53   {
 54     set(num[i]);
 55   }
 56   for(i=0;i<N;i++)
 57   {
 58     if(test(i))
 59       printf("%d\n",i);
 60   }
 61   return 0;
 62 }
```



4.小细节

- 之所以用>>,<<不用/，%是因为位运算的速度更快



